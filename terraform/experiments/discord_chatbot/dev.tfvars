# ============================================
# Discord Chatbot - 開発環境設定
# ============================================
# このファイルは開発環境用の変数値を定義します
# 
# 使用方法:
#   export TF_VAR_discord_bot_token="your-discord-bot-token-here"
#   terraform plan -var-file="dev.tfvars"
#   terraform apply -var-file="dev.tfvars"
#
# 重要なセキュリティ注意事項:
#   discord_bot_token は機密情報のため、このファイルには絶対に記載しない
#   必ず環境変数 TF_VAR_discord_bot_token で設定すること
#   
#   設定例:
#   export TF_VAR_discord_bot_token="YOUR_DISCORD_BOT_TOKEN"
#
#   トークンはAWS Secrets Managerに保存され、EC2インスタンスが
#   IAMロールを使用して安全に取得します
# ============================================

# ============================================
# 基本設定
# ============================================

# AWSリージョン
# 東京リージョンを使用（日本向けサービスに最適）
aws_region = "ap-northeast-1"

# 環境名
# 開発環境であることを示す識別子
environment = "dev"

# プロジェクト名
# リソース名のプレフィックスとして使用
project_name = "discord-bot"

# ============================================
# EC2インスタンス設定
# ============================================

# インスタンスタイプ
# t2.micro: 無料利用枠対象、小規模なBotに最適
# より性能が必要な場合は t2.small, t3.micro などに変更
instance_type = "t2.micro"

# ============================================
# セキュリティ設定
# ============================================

# SSH接続を許可するIPアドレス（CIDR形式）
# 
# ⚠️ セキュリティ上重要 ⚠️
# デフォルトは 0.0.0.0/0（全世界からアクセス可能）です
# 本番環境やセキュリティを重視する場合は、必ず自分のIPアドレスに変更してください
#
# 自分のIPアドレスの確認方法:
#   curl https://checkip.amazonaws.com
#
# 設定例:
#   - 特定のIP: "203.0.113.1/32"（最も安全）
#   - IP範囲: "203.0.113.0/24"（組織のネットワーク）
#   - 全開放: "0.0.0.0/0"（テスト用のみ、非推奨）
my_ip = "0.0.0.0/0"  # TODO: 自分のIPアドレスに変更することを強く推奨

# ============================================
# SSH鍵設定
# ============================================

# SSH公開鍵ファイルのパス
# EC2インスタンスへのSSH接続に使用する公開鍵のパス
# 
# 鍵ペアの作成方法:
#   ssh-keygen -t rsa -b 4096 -f ./discord-bot-key
#   （パスフレーズの入力を求められたら、セキュリティのため設定推奨）
#
# 注意:
#   - 公開鍵（.pub）をここで指定
#   - 秘密鍵は決してコミットしない（.gitignoreに追加済み）
ssh_public_key_path = "./discord-bot-key.pub"

# ============================================
# アプリケーション設定
# ============================================

# Discord Bot トークン
# 
# ⚠️ セキュリティ警告 ⚠️
# Bot トークンは機密情報です。このファイルには直接記載しないでください
#
# 設定方法（必須）:
#
# 環境変数を使用（推奨）:
#   export TF_VAR_discord_bot_token="your-discord-bot-token-here"
#   terraform apply -var-file="dev.tfvars"
#
# トークンの取得方法:
# 1. Discord Developer Portal にアクセス
#    https://discord.com/developers/applications
# 2. アプリケーションを選択
# 3. "Bot" タブを開く
# 4. "TOKEN" セクションで "Copy" をクリック
#
# 設定したトークンはTerraformによって以下のように処理されます:
# - AWS Secrets Manager に暗号化して保存
# - EC2インスタンスがIAMロール経由で安全に取得
# - .envファイルは自動生成（手動設定不要）
#
# 注意: discord_bot_token はここでは設定しません（環境変数で設定）

# S3の古いバージョン保持期間（日数）
# 開発環境では短めに設定してストレージコストを削減
s3_old_version_retention_days = 7

# ============================================
# タグ設定（オプション）
# ============================================
# 必要に応じて追加のタグを設定できます
# 例:
# tags = {
#   Owner       = "your-name"
#   Department  = "Engineering"
#   CostCenter  = "12345"
# }
